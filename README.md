## 支付宝智慧社区管理系统（重构）

### 运行
-  git clone "项目地址"
-  npm install
-  npm run start  
-  npm run build

### 代码管理（**************特别注意*****************）
-  自行代码检测.eslintrc.json(atom,vscode等IDE有检测插件)
-  在commit之前会进行代码强制检测，检测不通过不允许提交，进行修改修改好了再次add
-  dev为测试分支，master为线上分支，
  - 1.从master上拉取建立属于自己版本的分支
  - 2.版本开发结束提测时合并到dev上开始测试bug修复
  - 3.上线之后将dev上的代码同步一份到master
- 版本开发前自行在底部添加文档，文档内容包括（版本号，日期，预计工作量，风险点，功能点）


### account
username: test
password: 123456

### 项目内域名与接口地址转换
详见：`src/utils/util.js`


### ftp
type|name|password|ip
---|---|---|---
正式 | hd-wuyeqt | wuye2017!@# | 121.196.219.40
预发 | dev-web/release | zhujia360!@# | 121.196.219.40
测试 | dev-web/test | zhujia360!@# | 121.196.219.40


### domain
* dev `localhost:1234` test 123456
* test `http://dev-web.elive99.com/test/wuye` test 123456
* release `http://dev-web.elive99.com/release/wuye` test 123456
* pro `http://hd-wuyeyy.zje.com`


### 接口文档
Rap: `http://192.168.1.235:8077/org/group.action?plid=7`


### 项目架构
* dva2.0，Route4.0，antd design2.12.5

### 配置使用 3000 端口开启服务器可以这样：
* // OS X, Linux
* $ PORT=3000 roadhog server

* // Windows (cmd.exe)
* $ set PORT=3000&&roadhog server


### 规范
#### 1.文件结构代码规范
* 目录名小写开头，文件名大写开头，namespace带上Model后缀并且大写开头，一个modal文件对应一个route文件，一个大菜单对应一个service文件。
* 公共css放在`src/index.css`,加上global属性
`:global(.ant-breadcrumb ){
  	line-height: 4;
}`
* 统一缩进2格

#### 2.交互规范
* 所有新增编辑详情都跳新页面
* 搜索重置成对出现，列表上方模块只放搜索重置按钮，新增，导入导出等按钮都在列表模块顶部，距离列表10像素
* 所有图片带放大功能（除去列表）
* 所有列表以及表单提交都加上loading效果，可防治重复提交以及优化交互
* 面包屑如果是三级，中间一级加上链接
* 列表可操作里的样式不使用button，采用a标签，相互之前距离10px(mr1)
* 列表的搜索4*6布局
* 多次出现的验证进行统一`utils/util`

#### 3.组件封装
* 项目布局MainLayout
* 菜单权限Menus
* 图片上传Image
* 登录Login
* 导入ExImport
* 选择房屋Community
* 富文本编辑器Ueditor
* 图表Charts
* 地图Map
* 上传文件UploadFile


### 工作量评估

#### 支付宝智慧社区管理系统（重构）1.0.0  2018-1-15

**预计工作量：**  

**风险点：**  

**功能：** 项目初始化搭建

#### 支付宝智慧社区管理系统（重构）1.0.0  2018-1-4

### 第一期
- [ ] 小区管理 | ---------------------------------------谢捡妹（2018-1-17----2018-1-23）5
  - [ ] 房屋管理 |
    - 列表页：新增房屋，导入导出，查看，删除
    - 新增房屋
    - 查看房屋
  - [ ] 住户管理 |
    - 列表页：新增编辑住户，导入导出，变更业主，删除
    - 新增编辑住户
  - [ ] 水表管理 |
    - 列表页：导入，新增编辑
    - 新增编辑水表
  - [ ] 业主信息变更 |
    - 列表页：发送短信提示
    - 查看详情
- [ ] 报事管理 |---------------------------------------钟剑均（2018-1-17----2018-1-29）9
  - [ ] 业主投诉 |
    - 列表页：标记为已处理，查看详情
    - 查看详情
- [ ] 物业服务 |---------------------------------------徐祥
  - [ ] 办事指南 |
    - 列表页：新增，编辑，显示隐藏
    - 新增编辑
  - [ ] 小区包裹 |
    - 列表页：新增编辑，确认领取
    - 新增编辑
  - [ ] 阳光公告栏 |
    - 列表页：新增编辑，删除，显示隐藏
    - 新增编辑
  - [ ] 消息管理 |
    - 列表页：新增编辑，删除，推送，查看
    - 新增编辑
    - 查看
- [ ] 门禁管理 |---------------------------------------钟剑均（2018-1-17----2018-1-29）9
  - [ ] 门禁设备管理 |
    - 列表页：
  - [ ] 出入记录 |
    - 列表页
- [ ] 停车管理 |---------------------------------------孙孟龙（2018-1-17----2018-1-30）10
  - [ ] 停车场概况 |
    - 统计页
  - [ ] 停车场设备管理 |
    - 列表页
  - [ ] 车主管理 |
    - 列表页：新增编辑，导入，导出，删除，续费，查看续费记录
    - 新增编辑
  - [ ] 车位管理 |
    - 列表页：新增编辑，导入，导出，删除
    - 新增编辑
  - [ ] 在库车辆 |
    - 列表页
  - [ ] 出库记录 |
    - 列表页
  - [ ] 收费规则设置 |
    - 列表页：新增编辑，删除
    - 新增编辑
- [ ] 统计报表 |---------------------------------------钟剑均（2018-1-17----2018-1-29）9
  - [ ] 单小区数据报表 |
    - 统计页
  - [ ] 小区概况对比表 |
    - 统计页
### 第二期
- [ ] 报修管理 |---------------------------------------钟剑均
  - [ ] 报修管理 |
    - 列表页：导出，新增工单，查看，分配（改派），标记完成，添加记录，标记为疑难，作废
    - 新增编辑
    - 查看
  - [ ] 疑难问题 |
    - 列表页：导出，改派，标记完成，添加记录，作废
    - 查看
  - [ ] 耗材管理 |
    - 列表页：新增，编辑，作废
    - 新增编辑
  - [ ] 报修类别 |
    - 列表页：新增，编辑，隐藏显示
    - 新增编辑
  - [ ] 报修统计 |
    - 统计页
- [ ] 租房管理 |---------------------------------------鲁朋朋
  - [ ] 租房房源管理 |
    - 列表页：发布房源，查看详情，取消委托，预约看房，编辑
    - 发布房源，编辑房源
    - 查看详情
  - [ ] 预约看房管理 |
    - 列表页：签约，查看详情
    - 签约
    - 查看详情
  - [ ] 租房收益 |
    - 列表页：导出
- [ ] 投票管理 |---------------------------------------鲁朋朋
  - [ ] 投票管理 |
    - 列表页：新增投票，查看，显示隐藏，
    - 查看详情，导出
    - 查看投票详情，导出详情数据
    - 公示结果
    - 新增投票   
### 第三期
- [ ] 基础模块 |---------------------------------------曾媛媛 徐祥
  - [ ] 查看操作手册，问题反馈，常见问题，小区选择，退出登录，修改密码，显示相应的物业公司，登入页面上下的样式，内页的底部咨询方式
- [ ] 首页 |---------------------------------------徐祥
  - [ ] 工作台 |
- [ ] 缴费管理 |---------------------------------------刘海军 鲁朋朋 徐祥
  - [ ] 物业收费 |
    - 列表页：生成账单，导出账单，导入账单，批量收款，打印催缴单，查看详情，新增账单
    - 打印催缴单
    - 生成账单
    - 新增账单
    - 查看详情
  - [ ] 临时停车费用 |
    - 列表页：导出账单
  - [ ] 扫码缴费 |
    - 列表页：导出账单
  - [ ] 公式管理 |
    - 列表页：新增，删除，编辑
  - [ ] 模版管理 |
    - 列表页：查看，编辑
  - [ ] 收费明细列表 |
    - 列表页：导出报表
- [ ] 系统设置 |---------------------------------------钟剑均
  - [ ] 我的小区 |
    - 列表页
  - [ ] 部门管理 |
    - 列表页：新增编辑，删除
    - 新增编辑
  - [ ] 员工管理 |
    - 列表页：新增编辑，禁用，查看权限详情，菜单详情
    - 新增编辑
  - [ ] 日志管理 |
    - 列表页
  - [ ] 收款密码设置 |
    - 修改密码，重置密码

### [钉钉1.3巡检](doc/1.3xjm.md)  
- [ ] 重大事故记录
  - 列表页：新增记录，导出，查看，编辑，删除
  - 新增/编辑
  - 查看详情
- [ ] 设备巡检
  - [ ] 巡检点管理
    - 列表页：新增，编辑，删除，下载二维码
    - 新增/编辑
  - [ ] 巡检线路管理
    - 列表页：新增，编辑，删除
    - 新增/删除
  - [ ] 巡检计划管理
    - 列表：新增，编辑，删除，查看，启用禁用
    - 新增/编辑
    - 查看详情
  - [ ] 巡检记录
    - 列表：导出，查看详情
    - 查看详情
  - [ ] 异常数据汇总
    - 列表：导出，查看详情
    - 查看详情
  - [ ] 巡检报表
    - 所有数据汇总
### 物业4.6部门管理  
- [ ] 部门管理
  - 列表页：新增搜索，新增字段员工数，新增子部门
  - 新增/编辑
- [] 员工管理
  - 列表页：新增搜索部门字段，删除字段
  - 新增/编辑

  - [ ] 该版本修改
    - 修改 util/index.js/getCookie，替换成 utils/util.js/getCommunityId
  
### [4.5门禁物业后台部分](这是版本对应的文档地址doc/4.5.md)  
  - [ ] 智能门禁管理
    - 列表: 新增设备,启用/禁用, 编辑，删除
    - 新增/编辑
  - [ ] 门卡管理
    - 列表页: 普通卡授权、管理卡授权、启用/禁用，编辑，删除
    - 新增/编辑
  - [ ] 访客留影
    - 列表
  - [ ] 开门记录
    - 列表
### [4.5支付宝小程序部分]
- [ ] 首页
  - 小区切换 上传人脸图片 全部钥匙 扫码开门 常用钥匙 住户密码 访客密码
- [ ] 业主认证
- [ ] 全部钥匙
- [ ] 扫码成功
- [ ] 访客密码
### [4.5生活号部分]
- [] 业主管理
  - 添加，编辑，删除业主, 查看访客密码
- [ ] 访客管理
  - 访客列表
- [ ] 添加业主
- [ ] 访客详情
  - 删除访客
### [4.7缴费相关](这是版本对应的文档地址 doc/4.7.md) 
- [ ] 收费管理 
  - [ ] 财务核销
    - 列表页：核销，撤销核销，查看详情
    - 查看详情
  - [ ] 缴费明细
    - 新加报事报修tab
- [ ] 小区管理
  - [ ] 房屋管理
    - [ ] 列表，新增编辑添加标签字段
  - [ ] 业主管理
    - [ ] 新增字段添加
  - [ ] 标签管理
    - [ ]列表页，删除
    - [ ] 新增，编辑
- [ ] 报修管理
  - [ ] 报修管理
    - [ ] 列表：状态为已完成带支付，添加操作，标记为支付

###[4.9统计报表](这是版本对应的文档地址 doc/4.9.md)
  - [ ] 缴费明细表(前收费明细管理)
  - [ ] 收费项目明细表
   - [ ] 列表页:搜索，导出，表格
  - [ ] 收费月报表
   - [ ] 列表页:搜索，导出，表格
  - [ ] 年收费总况
   - [ ] 列表页:搜索，导出，表格
  - [ ] 收款渠道统计
   - [ ] 列表页:搜索，导出，表格

### [5.0业主认证优化]
- [ ] 小区管理 
  - [ ] 住户管理
    - 已迁入住户列表页：查看，编辑，删除，迁出
    - 查看详情页 --- 新增
    - 待审核住户列表页：查看，迁入，不通过
    - 查看详情页 --- 新增
    - 已迁入住户列表页：查看，删除
    - 查看详情页 --- 新增
    - 已迁入住户列表页：查看，编辑，删除，迁入
    - 查看详情页 --- 新增

### [5.1小程序标准化]这是对应的文档地址 (doc/5.1.md)
- [ ] 首页
  - 选择小区 扫码  头像 常用钥匙 住户密码 访客密码
- [ ] 业主认证
- [ ] 选择房屋
  - 房屋认证入口
- [ ] 扫码成功
- [ ] 全部钥匙
- [ ] 个人中心
  - 上传人脸图片 业主管理入口
- [ ] 房屋认证
- [ ] 小区选择
- [ ] 业主管理
  - 新增房屋入口
- [ ] 审核中
- [ ] 业主管理(已认证)
  - 添加，编辑，删除住户

### [5.1小程序标准化-运营后台部分]
- [ ] 智能设备管理
- [ ] 开门记录



### [公安厅]这是对应的文档地址 (doc/gad.md)
- [ ] 首页
- [ ] 社区云图
  - 业主身份 客流统计 当前小区地图 在库车辆 访客车辆 停车动态 人行通道 电瓶车 MAC信息
- [ ] 搜索页
- [ ] 搜索结果
- [ ] 人行道闸
- [ ] 停车系统
- [ ] 房屋管理
  - 已入住住户 房屋用途概览 租期截止概览 房屋用途变化 房屋信息列表
- [ ] 常驻人口
   - 住户类型 小区男女比例 年龄段性别分布 常住-流动人口变化曲线 籍贯分布列表 小区管理列表 详情页面
- [ ] 消防系统
  - 空态页面
- [ ] 告警信息
- [ ] 视频监控
- [ ] 家园+
###[5.2票据优化及抄表](这是版本对应的文档地址 doc/5.2.md)
- [ ] 小区管理
  - [ ] 仪表管理(前电表，水表，公摊用电整合一起)
    - [ ] 列表(水表，电表，电梯用电，楼道用电，整体用水用电)，搜索，新增，查看，编辑，删除，批量导入，导出
- [ ] 收费管理
  - [ ] 抄表管理(新增抄水表，抄电表列表，整合公摊项目)
    - [ ]  列表，新增，查看，编辑(公摊项目)，删除，录入数据(公摊项目)
  - [ ] 账单管理
    - [ ] 账单详情
      -[ ]  列表(新增展示起度，止度，用水量，单价，应缴金额)
    - [ ] 新增账单
      - [ ] 新增(新增水电费时，去除字段上期读数，本期读数以及用水量)
- [ ] 钉钉端
  - [ ] 抄表管理(抄水表，抄电表)
   - [] 已抄，未抄
  - [ ] 票据模版列表(前票据模版列表舍弃)
    - [ ] 列表，搜索，新增，查看，编辑，删除
    - [ ] 新增第一步
    - [ ] 新增第二部（页眉区，表格区，页脚区，预览）
- [ ] 缴费通知
  - [ ] 列表调整，打印（选择模版支持多页）
- [ ] 票据打印
  - [ ] 选择模版
###[5.3垃圾回收版本](这是版本对应的文档地址 doc/5.4.md)
- [ ] 物业服务
  - [ ] 垃圾袋发放记录
    - 列表，导出
  - [ ] 垃圾袋检查记录
    - 列表，导出
- [ ] 钉钉端
  - [ ] 垃圾分类
    - 垃圾袋发放，垃圾袋检查
###[5.4快递管家](版本对应的文档地址 doc/5.4.md)
- [ ] 支付宝小程序插件
  - [ ] 首页功能入口
  - [ ] 包裹入库 
  - [ ] 包裹出库
  - [ ] 包裹管理
  - [ ] 入库统计
  - [ ] 短信充值
  - [ ] 短信失败 
###[5.5访客管理](这是版本对应的文档地址 doc/5.5.md)
- [ ]  小区管理
  - [ ] 楼宇管理
    - [ ] 列表，搜索，新增，批量新增，区域管理，删除，编辑
    - [ ] 批量新增第一步
    - [ ] 批量新增第二部
  - [ ] 区域管理
    - [ ] 列表，搜索，新增，删除，编辑
  - [ ] 房屋管理
    - [ ] 新增，编辑(新加字段，房屋编码，楼层)
  - [ ] 住户管理
    - [ ] 已迁入列表(新加操作，关联房屋)
    - [ ] 新增已迁入(新增关联房屋添加)
    - [ ] 关联房屋
    - [ ] 查看详情(关联房屋增加查看成员入口)
